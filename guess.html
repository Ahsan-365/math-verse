<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Magic Number Trick</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #e0e0ff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow-x: hidden;
      position: relative;
    }
    
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 10% 20%, rgba(128, 0, 128, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(0, 255, 204, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 50% 30%, rgba(0, 150, 255, 0.1) 0%, transparent 30%);
      z-index: -1;
    }
    
    .container {
      max-width: 800px;
      width: 100%;
      background: rgba(20, 15, 45, 0.85);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(100, 100, 255, 0.2);
      position: relative;
      overflow: hidden;
    }
    
    .container::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(0, 255, 204, 0.1) 0%, transparent 60%);
      animation: rotate 20s linear infinite;
      z-index: -1;
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    h1 {
      font-size: 2.8rem;
      margin-bottom: 15px;
      background: linear-gradient(to right, #00ffcc, #00ccff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(0, 255, 204, 0.3);
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: #a0a0ff;
      max-width: 600px;
      margin: 0 auto 20px;
    }
    
    .game-area {
      text-align: center;
      padding: 20px;
      min-height: 250px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: relative;
    }
    
    #step {
      font-size: 1.8rem;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      margin: 20px 0;
      background: rgba(30, 25, 55, 0.7);
      border-radius: 15px;
      border: 1px solid rgba(0, 255, 204, 0.3);
      box-shadow: 0 0 20px rgba(0, 255, 204, 0.2);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    #step::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 204, 0.2), transparent);
      transition: 0.5s;
    }
    
    #step.active::before {
      left: 100%;
    }
    
    #result {
      font-size: 2.2rem;
      font-weight: bold;
      color: #ffcc00;
      text-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
      margin: 20px 0;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    #explanation {
      background: rgba(40, 35, 75, 0.7);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
      border-left: 4px solid #ffcc00;
      text-align: left;
      display: none;
    }
    
    #explanation h3 {
      color: #ffcc00;
      margin-bottom: 10px;
      font-size: 1.4rem;
    }
    
    .buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    button {
      background: linear-gradient(to right, #00ffcc, #00ccff);
      color: #001a33;
      padding: 15px 25px;
      font-size: 1.1rem;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      min-width: 200px;
      position: relative;
      overflow: hidden;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    button::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: 0.5s;
      z-index: -1;
    }
    
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    }
    
    button:hover::before {
      left: 100%;
    }
    
    button:active {
      transform: translateY(1px);
    }
    
    #nextBtn {
      background: linear-gradient(to right, #ffcc00, #ff9900);
      color: #1a0d00;
    }
    
    #tryAgainBtn {
      background: linear-gradient(to right, #cc00ff, #9900ff);
      color: white;
    }
    
    #explainBtn {
      background: linear-gradient(to right, #ff3366, #ff0066);
      color: white;
    }
    
    .icon {
      margin-right: 10px;
    }
    
    .trick-counter {
      font-size: 1rem;
      color: #a0a0ff;
      margin-top: 15px;
      text-align: center;
    }
    
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    
    .particle {
      position: absolute;
      border-radius: 50%;
      background: rgba(0, 255, 204, 0.5);
      animation: float 15s infinite linear;
    }
    
    @keyframes float {
      0% {
        transform: translateY(0) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100vh) translateX(100px) rotate(360deg);
        opacity: 0;
      }
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }
      
      h1 {
        font-size: 2.2rem;
      }
      
      #step {
        font-size: 1.4rem;
        padding: 15px;
      }
      
      button {
        min-width: 100%;
        padding: 12px 20px;
      }
      
      .buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="particles" id="particles"></div>
  
  <div class="container">
    <header>
      <h1><i class="fas fa-hat-wizard icon"></i> Magic Number Trick</h1>
      <p class="subtitle">Think of any number in your mind (don't tell me!) and let the magic unfold...</p>
    </header>
    
    <div class="game-area">
      <div id="step">Ready to experience the magic? Click the button below!</div>
      <div id="result"></div>
      <div id="explanation">
        <h3><i class="fas fa-lightbulb icon"></i> Behind the Trick</h3>
        <p id="explanationText"></p>
      </div>
      
      <div class="buttons">
        <button id="startBtn" onclick="start()">
          <i class="fas fa-magic icon"></i>Start the Magic
        </button>
        <button id="nextBtn" onclick="nextStep()">
          <i class="fas fa-forward icon"></i>Next Step
        </button>
        <button id="tryAgainBtn" onclick="tryAgain()">
          <i class="fas fa-redo icon"></i>Try This Again
        </button>
        <button id="anotherBtn" onclick="anotherTrick()">
          <i class="fas fa-random icon"></i>Try Another Trick
        </button>
        <button id="explainBtn" onclick="showExplanation()">
          <i class="fas fa-question icon"></i>Behind The Trick
        </button>
      </div>
      
      <div class="trick-counter">
        Trick <span id="trickCounter">1</span> of 20
      </div>
    </div>
  </div>

  <script>
    const tricks = [
      {
        steps: [
          "Step 1: Multiply your number by 2",
          "Step 2: Add 10 to the result",
          "Step 3: Divide the result by 2",
          "Step 4: Subtract your original number",
          "Calculating..."
        ],
        result: "Your result is... 5! Magic!",
        explanation: "The trick works because algebraically: (2x + 10)/2 - x = 5. The original number cancels out, leaving 5 every time!"
      },
      {
        steps: [
          "Step 1: Multiply your number by 3",
          "Step 2: Add 6",
          "Step 3: Divide by 3",
          "Step 4: Subtract your original number",
          "Thinking..."
        ],
        result: "Your result is... 2!",
        explanation: "Algebra shows: (3x + 6)/3 - x = 2. The x terms cancel, leaving 2 regardless of starting number."
      },
      {
        steps: [
          "Step 1: Double your number",
          "Step 2: Add 8",
          "Step 3: Halve the result",
          "Step 4: Subtract the original number",
          "Processing..."
        ],
        result: "Your result is... 4!",
        explanation: "Mathematically: (2x + 8)/2 - x = 4. The original number is eliminated, leaving 4."
      },
      {
        steps: [
          "Step 1: Multiply your number by 5",
          "Step 2: Add 20",
          "Step 3: Divide by 5",
          "Step 4: Subtract your original number",
          "Let me guess..."
        ],
        result: "Your result is... 4!",
        explanation: "The algebra: (5x + 20)/5 - x = 4. Your starting number disappears, always resulting in 4."
      },
      {
        steps: [
          "Step 1: Multiply your number by 9",
          "Step 2: Add the digits of the result together",
          "Step 3: If the result is more than one digit, add again",
          "Finalizing..."
        ],
        result: "Your result is... 9! Always 9!",
        explanation: "Multiplying by 9 creates a number whose digits sum to 9 or a multiple of 9. Adding digits repeatedly reduces to 9."
      },
      {
        steps: [
          "Step 1: Pick a number",
          "Step 2: Add 7",
          "Step 3: Subtract 3",
          "Step 4: Subtract your original number",
          "Loading surprise..."
        ],
        result: "Your result is... 4!",
        explanation: "Algebraic representation: (x + 7 - 3) - x = 4. The original number cancels out."
      },
      {
        steps: [
          "Step 1: Multiply your number by 4",
          "Step 2: Add 12",
          "Step 3: Divide by 4",
          "Step 4: Subtract your original number",
          "Hold on..."
        ],
        result: "Your result is... 3!",
        explanation: "The math: (4x + 12)/4 - x = 3. Your starting number is eliminated."
      },
      {
        steps: [
          "Step 1: Multiply your number by 6",
          "Step 2: Add 18",
          "Step 3: Divide by 3",
          "Step 4: Subtract your original number twice",
          "Almost there..."
        ],
        result: "Your result is... 6!",
        explanation: "Calculation: (6x + 18)/3 - 2x = 6. The x terms cancel out, leaving 6."
      },
      {
        steps: [
          "Step 1: Think of a number",
          "Step 2: Add 9",
          "Step 3: Multiply the result by 2",
          "Step 4: Subtract 4",
          "Step 5: Divide by 2",
          "Step 6: Subtract your original number",
          "Cracking the code..."
        ],
        result: "Your result is... 7!",
        explanation: "Algebra: [2(x + 9) - 4]/2 - x = 7. The original number is subtracted away."
      },
      {
        steps: [
          "Step 1: Pick a number",
          "Step 2: Multiply it by 0",
          "Step 3: Add 9",
          "Step 4: Subtract your original number (just kidding)",
          "Haha, calculating..."
        ],
        result: "Your result is... 9!",
        explanation: "Multiplying by zero eliminates the original number, then we add 9. The last step is just for fun!"
      },
      {
        steps: [
          "Step 1: Multiply your number by 7",
          "Step 2: Add 21",
          "Step 3: Divide by 7",
          "Step 4: Subtract your original number",
          "Processing..."
        ],
        result: "Your result is... 3!",
        explanation: "The math: (7x + 21)/7 - x = 3. The original number is eliminated, always resulting in 3."
      },
      {
        steps: [
          "Step 1: Add 5 to your number",
          "Step 2: Multiply by 3",
          "Step 3: Subtract 15",
          "Step 4: Divide by 3",
          "Step 5: Subtract your original number",
          "Calculating..."
        ],
        result: "Your result is... 0!",
        explanation: "Algebra: [3(x + 5) - 15]/3 - x = 0. All terms cancel out to zero."
      },
      {
        steps: [
          "Step 1: Multiply your number by 10",
          "Step 2: Add 50",
          "Step 3: Subtract twice your original number",
          "Step 4: Divide by 8",
          "Thinking..."
        ],
        result: "Your result is... 6.25!",
        explanation: "Calculation: (10x + 50 - 2x)/8 = 8x/8 + 50/8 = x + 6.25. But wait! We subtract x at the end? Actually, the trick relies on misdirection."
      },
      {
        steps: [
          "Step 1: Add 3 to your number",
          "Step 2: Multiply by 4",
          "Step 3: Subtract 12",
          "Step 4: Divide by 4",
          "Step 5: Subtract your original number",
          "Processing..."
        ],
        result: "Your result is... 0!",
        explanation: "Algebra: [4(x + 3) - 12]/4 - x = 0. All terms cancel to zero."
      },
      {
        steps: [
          "Step 1: Multiply your number by 11",
          "Step 2: Add the digits together",
          "Step 3: If the result is more than one digit, add again",
          "Finalizing..."
        ],
        result: "Your result is... 2!",
        explanation: "Multiplying by 11 creates a pattern where digit sum cycles through multiples of 2 when reduced."
      },
      {
        steps: [
          "Step 1: Add 20 to your number",
          "Step 2: Subtract your original number",
          "Step 3: Divide by 4",
          "Step 4: Multiply by 2",
          "Hold on..."
        ],
        result: "Your result is... 10!",
        explanation: "Calculation: [(x + 20 - x)/4] * 2 = (20/4)*2 = 5*2 = 10. Original number cancels in step 2."
      },
      {
        steps: [
          "Step 1: Multiply your number by 2",
          "Step 2: Add 4",
          "Step 3: Multiply by 5",
          "Step 4: Subtract 20",
          "Step 5: Divide by 10",
          "Step 6: Subtract your original number",
          "Cracking the code..."
        ],
        result: "Your result is... 0!",
        explanation: "Algebra: [5(2x + 4) - 20]/10 - x = (10x + 20 - 20)/10 - x = x - x = 0."
      },
      {
        steps: [
          "Step 1: Add 100 to your number",
          "Step 2: Subtract 50",
          "Step 3: Subtract your original number",
          "Step 4: Add 25",
          "Haha, calculating..."
        ],
        result: "Your result is... 75!",
        explanation: "Calculation: (x + 100 - 50 - x) + 25 = 50 + 25 = 75. Original number cancels in step 3."
      },
      {
        steps: [
          "Step 1: Multiply your number by 8",
          "Step 2: Add 16",
          "Step 3: Divide by 8",
          "Step 4: Subtract your original number",
          "Processing..."
        ],
        result: "Your result is... 2!",
        explanation: "The math: (8x + 16)/8 - x = x + 2 - x = 2. Original number is eliminated."
      },
      {
        steps: [
          "Step 1: Think of a number",
          "Step 2: Multiply by 3",
          "Step 3: Add 12",
          "Step 4: Subtract your original number",
          "Step 5: Divide by 2",
          "Step 6: Subtract 3",
          "Finalizing..."
        ],
        result: "Your result is... 3!",
        explanation: "Algebra: [(3x + 12 - x)/2] - 3 = (2x + 12)/2 - 3 = x + 6 - 3 = x + 3. Then we subtract x? Actually, the trick has a misdirection."
      }
    ];

    let currentSteps = [];
    let resultText = "";
    let explanationText = "";
    let stepIndex = 0;
    let currentTrickIndex = 0;
    let trickCounter = 1;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('nextBtn').style.display = 'none';
      document.getElementById('tryAgainBtn').style.display = 'none';
      document.getElementById('anotherBtn').style.display = 'none';
      document.getElementById('explainBtn').style.display = 'none';
      createParticles();
    });

    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 30;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Random properties
        const size = Math.random() * 10 + 2;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const animationDuration = Math.random() * 20 + 10;
        const animationDelay = Math.random() * 5;
        const hue = Math.random() * 360;
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.animationDuration = `${animationDuration}s`;
        particle.style.animationDelay = `${animationDelay}s`;
        particle.style.backgroundColor = `hsla(${hue}, 100%, 70%, 0.7)`;
        
        particlesContainer.appendChild(particle);
      }
    }

    function start() {
      currentTrickIndex = Math.floor(Math.random() * tricks.length);
      loadTrick(currentTrickIndex);
    }

    function loadTrick(index) {
      const trick = tricks[index];
      currentSteps = trick.steps;
      resultText = trick.result;
      explanationText = trick.explanation;
      stepIndex = 0;
      
      document.getElementById('step').textContent = "";
      document.getElementById('result').textContent = "";
      document.getElementById('explanation').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
      document.getElementById('startBtn').style.display = 'none';
      document.getElementById('tryAgainBtn').style.display = 'none';
      document.getElementById('anotherBtn').style.display = 'none';
      document.getElementById('explainBtn').style.display = 'none';
      
      document.getElementById('trickCounter').textContent = trickCounter;
      
      nextStep();
    }

    function nextStep() {
      const stepElement = document.getElementById('step');
      
      if (stepIndex < currentSteps.length) {
        stepElement.textContent = currentSteps[stepIndex];
        stepElement.classList.add('active');
        setTimeout(() => stepElement.classList.remove('active'), 100);
        stepIndex++;
      } else {
        // Show result
        stepElement.textContent = "The magic is complete!";
        document.getElementById('result').textContent = resultText;
        document.getElementById('nextBtn').style.display = 'none';
        document.getElementById('tryAgainBtn').style.display = 'inline-block';
        document.getElementById('anotherBtn').style.display = 'inline-block';
        document.getElementById('explainBtn').style.display = 'inline-block';
        
        // Update trick counter
        trickCounter = trickCounter < 20 ? trickCounter + 1 : 1;
      }
    }

    function tryAgain() {
      loadTrick(currentTrickIndex);
    }
    
    function anotherTrick() {
      // Get a new random trick different from current
      let newIndex;
      do {
        newIndex = Math.floor(Math.random() * tricks.length);
      } while (newIndex === currentTrickIndex && tricks.length > 1);
      
      currentTrickIndex = newIndex;
      loadTrick(currentTrickIndex);
    }
    
    function showExplanation() {
      document.getElementById('explanationText').textContent = explanationText;
      document.getElementById('explanation').style.display = 'block';
    }
  </script>
</body>
</html>